<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background: #f2f2f2; }
  </style>
</head>
<body>

<h2>Admin Dashboard</h2>

<form method="POST" action="/generate-qr">
  <button type="submit">Generate QR</button>
</form>

<p><a href="/admin/logout">Logout</a></p>

<hr>

<h3>Generated QR Codes</h3>
<table>
  <tr>
    <th>Serial No.</th>
    <th>QR Code</th>
    <th>Status</th>
  </tr>

  <% qrs.forEach((qr, index) => { %>
    <tr>
      <td><%= index + 1 %></td>
      <td><%= qr.code %></td>
      <td><%= qr.isUsed ? "Used" : "Unused" %></td>
    </tr>
  <% }) %>
</table>

<hr>

<h3>Submissions</h3>
<table>
  <tr>
    <th>Owner Name</th>
    <th>Phone</th>
    <th>QR Code</th>
    <th>Date</th>
  </tr>
  <% submissions.forEach(s => { %>
    <tr>
      <td><%= s.ownername %></td>
      <td><%= s.phone %></td>
      <td><%= s.qrCode %></td>
      <td><%= new Date(s.submittedAt).toLocaleString() %></td>
    </tr>
  <% }) %>
</table>

</body>
</html>